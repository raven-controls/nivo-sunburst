"use strict";var e=require("react"),r=require("@nivo/core"),o=require("@nivo/arcs"),n=require("@nivo/tooltip"),t=require("react/jsx-runtime"),i=require("d3-hierarchy"),a=require("d3-scale"),d=require("lodash/cloneDeep"),s=require("lodash/sortBy"),l=require("@nivo/colors");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},c.apply(this,arguments)}var u={id:"id",value:"value",cornerRadius:0,innerRadius:.4,renderRootNode:!1,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(e){var r=e.id,o=e.formattedValue,i=e.color;return t.jsx(n.BasicTooltip,{id:r,value:o,enableChip:!0,color:i})},role:"img"},v=function(n){var t=n.data,c=n.id,v=void 0===c?u.id:c,h=n.value,f=void 0===h?u.value:h,p=n.valueFormat,m=n.radius,b=n.cornerRadius,C=void 0===b?u.cornerRadius:b,M=n.innerRadius,g=void 0===M?u.innerRadius:M,L=n.renderRootNode,R=void 0===L?u.renderRootNode:L,x=n.colors,y=void 0===x?u.colors:x,j=n.colorBy,A=void 0===j?u.colorBy:j,F=n.inheritColorFromParent,W=void 0===F?u.inheritColorFromParent:F,I=n.childColor,O=void 0===I?u.childColor:I,P=r.useTheme(),q=l.useOrdinalColorScale(y,A),k=l.useInheritedColor(O,P),G=r.usePropertyAccessor(v),S=r.usePropertyAccessor(f),B=r.useValueFormatter(p),E=e.useMemo((function(){var e,r=d(t),o=i.hierarchy(r).sum(S),n=i.partition().size([2*Math.PI,m*m]),l=R?n(o).descendants():n(o).descendants().slice(1),c=null!=(e=o.value)?e:0,u=s(l,"depth"),v=m*Math.min(g,1),h=Math.max.apply(Math,u.map((function(e){return e.depth}))),f=a.scaleRadial().domain([0,h]).range([v,m]);return u.reduce((function(e,r){var o,n=G(r.data),t=r.value,i=100*t/c,a=r.ancestors().map((function(e){return G(e.data)})),d={startAngle:r.x0,endAngle:r.x1,innerRadius:R&&0===r.depth?0:f(r.depth-1),outerRadius:R&&0===r.depth?g:f(r.depth)};r.parent&&(o=e.find((function(e){return e.id===G(r.parent.data)})));var s={id:n,path:a,value:t,percentage:i,formattedValue:p?B(t):i.toFixed(2)+"%",color:"",arc:d,data:r.data,depth:r.depth,height:r.height};return W&&o&&s.depth>1?s.color=k(o,s):s.color=q(s),[].concat(e,[s])}),[])}),[t,m,S,G,p,B,q,W,k,g,R]);return{arcGenerator:o.useArcGenerator({cornerRadius:C}),nodes:E}},h=function(r){var o=r.nodes,n=r.arcGenerator,t=r.centerX,i=r.centerY,a=r.radius;return e.useMemo((function(){return{nodes:o,arcGenerator:n,centerX:t,centerY:i,radius:a}}),[o,n,t,i,a])},f=function(r){var i=r.center,a=r.data,d=r.arcGenerator,s=r.borderWidth,l=r.borderColor,c=r.isInteractive,u=r.onClick,v=r.onMouseEnter,h=r.onMouseMove,f=r.onMouseLeave,p=r.tooltip,m=r.transitionMode,b=n.useTooltip(),C=b.showTooltipFromEvent,M=b.hideTooltip,g=e.useMemo((function(){if(c)return function(e,r){null==u||u(e,r)}}),[c,u]),L=e.useMemo((function(){if(c)return function(r,o){C(e.createElement(p,r),o),null==v||v(r,o)}}),[c,C,p,v]),R=e.useMemo((function(){if(c)return function(r,o){C(e.createElement(p,r),o),null==h||h(r,o)}}),[c,C,p,h]),x=e.useMemo((function(){if(c)return function(e,r){M(),null==f||f(e,r)}}),[c,M,f]);return t.jsx(o.ArcsLayer,{center:i,data:a,arcGenerator:d,borderWidth:s,borderColor:l,transitionMode:m,onClick:g,onMouseEnter:L,onMouseMove:R,onMouseLeave:x})},p=["isInteractive","animate","motionConfig","theme","renderWrapper"],m=function(n){var i=n.data,a=n.id,d=void 0===a?u.id:a,s=n.value,l=void 0===s?u.value:s,c=n.innerRadius,p=void 0===c?u.innerRadius:c,m=n.renderRootNode,b=void 0===m?u.renderRootNode:m,C=n.valueFormat,M=n.cornerRadius,g=void 0===M?u.cornerRadius:M,L=n.layers,R=void 0===L?u.layers:L,x=n.colors,y=void 0===x?u.colors:x,j=n.colorBy,A=void 0===j?u.colorBy:j,F=n.inheritColorFromParent,W=void 0===F?u.inheritColorFromParent:F,I=n.childColor,O=void 0===I?u.childColor:I,P=n.borderWidth,q=void 0===P?u.borderWidth:P,k=n.borderColor,G=void 0===k?u.borderColor:k,S=n.margin,B=n.width,E=n.height,T=n.enableArcLabels,w=void 0===T?u.enableArcLabels:T,N=n.arcLabel,X=void 0===N?u.arcLabel:N,Y=n.arcLabelsRadiusOffset,V=void 0===Y?u.arcLabelsRadiusOffset:Y,D=n.arcLabelsSkipAngle,K=void 0===D?u.arcLabelsSkipAngle:D,H=n.arcLabelsTextColor,z=void 0===H?u.arcLabelsTextColor:H,J=n.arcLabelsComponent,Q=n.defs,U=void 0===Q?u.defs:Q,Z=n.fill,$=void 0===Z?u.fill:Z,_=n.transitionMode,ee=void 0===_?u.transitionMode:_,re=n.isInteractive,oe=void 0===re?u.isInteractive:re,ne=n.onClick,te=n.onMouseEnter,ie=n.onMouseLeave,ae=n.onMouseMove,de=n.tooltip,se=void 0===de?u.tooltip:de,le=n.role,ce=void 0===le?u.role:le,ue=r.useDimensions(B,E,S),ve=ue.innerHeight,he=ue.innerWidth,fe=ue.margin,pe=ue.outerHeight,me=ue.outerWidth,be=e.useMemo((function(){return{radius:Math.min(he,ve)/2,centerX:he/2,centerY:ve/2}}),[ve,he]),Ce=be.centerX,Me=be.centerY,ge=be.radius,Le=v({data:i,id:d,value:l,valueFormat:C,radius:ge,cornerRadius:g,innerRadius:p,renderRootNode:b,colors:y,colorBy:A,inheritColorFromParent:W,childColor:O}),Re=Le.arcGenerator,xe=Le.nodes,ye=r.bindDefs(U,xe,$,{dataKey:".",colorKey:"color",targetKey:"fill"}),je={arcs:null,arcLabels:null};R.includes("arcs")&&(je.arcs=t.jsx(f,{center:[Ce,Me],data:xe,arcGenerator:Re,borderWidth:q,borderColor:G,transitionMode:ee,isInteractive:oe,tooltip:se,onClick:ne,onMouseEnter:te,onMouseLeave:ie,onMouseMove:ae},"arcs")),w&&R.includes("arcLabels")&&(je.arcLabels=t.jsx(o.ArcLabelsLayer,{center:[Ce,Me],data:xe,label:X,radiusOffset:V,skipAngle:K,textColor:z,transitionMode:ee,component:J},"arcLabels"));var Ae=h({nodes:xe,arcGenerator:Re,centerX:Ce,centerY:Me,radius:ge});return t.jsx(r.SvgWrapper,{width:me,height:pe,defs:ye,margin:fe,role:ce,children:R.map((function(r,o){return void 0!==je[r]?je[r]:"function"==typeof r?t.jsx(e.Fragment,{children:e.createElement(r,Ae)},o):null}))})},b=function(e){var o=e.isInteractive,n=void 0===o?u.isInteractive:o,i=e.animate,a=void 0===i?u.animate:i,d=e.motionConfig,s=void 0===d?u.motionConfig:d,l=e.theme,v=e.renderWrapper,h=function(e,r){if(null==e)return{};var o,n,t={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],r.indexOf(o)>=0||(t[o]=e[o]);return t}(e,p);return t.jsx(r.Container,{isInteractive:n,animate:a,motionConfig:s,theme:l,renderWrapper:v,children:t.jsx(m,c({isInteractive:n},h))})};exports.ResponsiveSunburst=function(e){return t.jsx(r.ResponsiveWrapper,{children:function(r){var o=r.width,n=r.height;return t.jsx(b,c({width:o,height:n},e))}})},exports.Sunburst=b,exports.defaultProps=u,exports.useSunburst=v,exports.useSunburstLayerContext=h;
//# sourceMappingURL=nivo-sunburst.cjs.js.map
